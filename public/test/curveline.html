<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <title>添加弧线</title>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=rn3QSr9XbbjU069iEDHvRj77vr2Cn6lG"></script>
    <script src="http://cdn.bootcss.com/echarts/3.6.1/echarts.common.min.js"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/CurveLine/1.5/src/CurveLine.min.js"></script>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="../javascripts/d3.min.js"></script>

    <style type="text/css">
        html,
        body {
            width: 100%;
            height: 100%;
            margin: 0;
            overflow: hidden;
            font-family: "微软雅黑";
        }
    </style>
</head>

<body>
    <div style="width:100%;height:100%;border:1px solid gray" id="container"></div>
</body>

</html>
<script src="./test.js"></script>
<script type="text/javascript">
    // 百度地图API功能
    var map = new BMap.Map("container");
    map.centerAndZoom(new BMap.Point(120.404, 29.915), 10);
    map.enableScrollWheelZoom();

    var beijingPosition = new BMap.Point(116.432045, 39.910683),
        hangzhouPosition = new BMap.Point(120.129721, 30.314429),
        taiwanPosition = new BMap.Point(121.491121, 25.127053);
    var points = [beijingPosition, hangzhouPosition, taiwanPosition];

    var curve = new BMapLib.CurveLine(points, {
        strokeColor: "red",
        strokeWeight: 10,
        strokeOpacity: 0.5
    }); //创建弧线对象
    map.addOverlay(curve); //添加到地图中
    curve.enableEditing(); //开启编辑功能

    // 静态数据测试
    $.get("http://118.89.186.225:8080/api/stationAll")
        .done((data) => {
            // data = JSON.parse(data)
            addMarkers(data)
            map.centerAndZoom(new BMap.Point(data[0].longiTude, data[0].latiTude), 13);
        })

    $.get("/test/data.json")
        .done((data) => {
            // data = JSON.parse(data)
            console.log(data)
            // addCurvelines(data.line)
        })
</script>